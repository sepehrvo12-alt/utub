<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل هوشمند یوتاب | UTub Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <style>
        body {
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
            color: white; font-family: 'Segoe UI', Tahoma, sans-serif;
            min-height: 100vh; display: flex; align-items: center; justify-content: center;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px; padding: 40px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            max-width: 500px; width: 90%;
        }
        h2 { color: #38bdf8; font-weight: bold; text-shadow: 0 0 10px rgba(56, 189, 248, 0.3); }
        .form-control {
            background: rgba(0,0,0,0.2); border: 1px solid #334155;
            color: white !important; border-radius: 12px; padding: 12px; margin-top: 8px;
        }
        .form-control:focus {
            background: rgba(0,0,0,0.3); border-color: #38bdf8;
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.3);
        }
        .btn-generate {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            border: none; border-radius: 12px; padding: 15px;
            font-weight: bold; color: white; transition: 0.3s; margin-top: 20px;
        }
        .btn-generate:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(56, 189, 248, 0.4); }
        .result-box {
            display: none; margin-top: 30px; border: 1px dashed #38bdf8;
            padding: 15px; border-radius: 12px; background: rgba(56, 189, 248, 0.05);
            word-break: break-all; /* برای اینکه لینک‌های طولانی از کادر بیرون نزنند */
        }
        label { font-size: 0.9rem; color: #cbd5e1; }
    </style>
</head>
<body>

<div class="glass-panel text-center">
    <h2 class="mb-4">یوتاب</h2>
    <p class="text-muted mb-4">لینک فایل رو بده، سابسکرایب تحویل بگیر!</p>
    
    <div class="mb-3 text-end">
        <label>۱. آدرس کانال یوتیوب شما:</label>
        <input type="url" id="ytInput" class="form-control" placeholder="https://youtube.com/@Sepehr">
    </div>

    <div class="mb-3 text-end">
        <label>۲. لینک مستقیم فایل (مدیافایر، تلگرام و...):</label>
        <input type="url" id="fileInput" class="form-control" placeholder="https://www.mediafire.com/file/...">
    </div>

    <button class="btn btn-generate w-100" onclick="generateLink()">ساخت لینک قفل‌دار</button>

    <div id="result" class="result-box">
        <p class="mb-2" style="font-size: 0.8rem;">لینک زیر رو کپی کن و بذار توی دیسکریپشن یوتیوب:</p>
        <code id="final-link" style="color: #38bdf8; font-size: 0.85rem;"></code>
        <hr style="border-color: #334155;">
        <button class="btn btn-sm btn-outline-info" onclick="copyLink()">کپی کردن لینک</button>
    </div>
</div>

<script>
    function generateLink() {
        const ytLink = document.getElementById('ytInput').value;
        const fileLink = document.getElementById('fileInput').value;

        // چک کردن خالی نبودن فیلدها
        if(!ytLink || !fileLink) {
            alert("سپهر جان، هر دو تا فیلد رو باید پر کنی!");
            return;
        }

        // رمزگذاری لینک‌ها (برای اینکه کاربر نتونه از توی آدرس، لینک فایل رو ببینه)
        const dataObject = { yt: ytLink, file: fileLink };
        const encodedData = btoa(unescape(encodeURIComponent(JSON.stringify(dataObject))));
        
        // ساخت آدرس نهایی سایت تو
        const finalUrl = `https://sepehrvo12-alt.github.io/utub/download.html?id=${encodedData}`;

        // نمایش نتیجه
        document.getElementById('result').style.display = 'block';
        document.getElementById('final-link').innerText = finalUrl;
    }

    function copyLink() {
        const linkText = document.getElementById('final-link').innerText;
        navigator.clipboard.writeText(linkText);
        alert("لینک کپی شد!");
    }
</script>

</body>
</html>
